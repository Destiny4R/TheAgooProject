function loadtable(){datatable=$("#tablevehicleExpendi").DataTable({processing:!0,serverSide:!0,filter:!0,responsive:!0,destroy:!0,ajax:{url:"/Home/ExpeditureVehicle",type:"POST",datatype:"json"},columnDefs:[{visible:!0,searchable:!0}],columns:[{data:"id",render:function(n,t,i,r){return r.row+r.settings._iDisplayStart+1}},{data:"vehicleRegister.vehicleRegNumber",autoWidth:!0},{data:"amount",autoWidth:!0},{data:"partnershipReg.name",autoWidth:!0},{data:"driversTable.name",autoWidth:!0},{data:null,render:function(n){return n.systemUserTable==null?"Head Office":n.systemUserTable.station}},{data:"status",autoWidth:!0,render:function(n){return n==0?'<span class="badge badge-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"><\/i> Not Approve <\/span>':n==1?'<span class="badge badge-success"> <i class="mdi mdi-check-all mr-1"><\/i> Approve<\/span>':'<span class="badge badge-danger">Report Rejected <i class="fas fa-thumbs-down" aria-hidden="true"><\/i><\/span>'}},{data:"expenditureDate",autoWidth:!0,render:function(n){return n.length>10?n.substring(0,10):n}},{data:"expenditureType",autoWidth:!0},{data:null,render:function(n){return statusx==1?n.systemUserTable!=null?`
                            <div class="d-flex justify-content-left ml-2">
                                <a class=" btn-dark btn-sm" href="/Expenditure/VehicleExpenditurez/ViewVehicleExpenseDatails/?id=${n.id}" style="cursor:pointer" title="">
                                <i class="fa fa-eye"></i>
                            </a> 
                            </div>`:`
                            <div class="d-flex justify-content-center">
                         <a class=" btn-secondary btn-sm" href="/Expenditure/VehicleExpenditurez/Upsert?id=${n.id}" style="cursor:pointer" title="Edit">
                                <i class="fa fa-edit"></i>
                            </a> &nbsp;
                            <a class=" btn-dark btn-sm" href="/Expenditure/VehicleExpenditurez/ViewVehicleExpenseDatails/?id=${n.id}" style="cursor:pointer" title="">
                                <i class="fa fa-eye"></i>
                            </a> &nbsp;
                            <a onclick=dropVehicleexpendi("/api/DropVehicleExpenditure?id=${n.id}") class="btn btn-danger btn-sm" href="#" style="cursor:pointer">
                                   <i class="fa fa-trash"></i>
                               </a>
                        </div>`:`
                        <div class="d-flex justify-content-center">
                         <a class=" btn-secondary btn-sm" href="/Expenditure/VehicleExpenditurez/Upsert?id=${n.id}" style="cursor:pointer" title="Edit vehicle expenditure">
                                <i class="fa fa-edit"></i>
                            </a> &nbsp;
                            <a class=" btn-dark btn-sm" href="/Expenditure/VehicleExpenditurez/ViewVehicleExpenseDatails/?id=${n.id}" style="cursor:pointer" title="View vehicle expenditure">
                                <i class="fa fa-eye"></i>
                            </a> &nbsp;
                            <a onclick=dropVehicleexpendi("/api/DropVehicleExpenditure?id=${n.id}") class="btn btn-danger btn-sm" href="#" style="cursor:pointer" title="Delete vehicle expenditure">
                                   <i class="fa fa-trash"></i>
                               </a>
                        </div>
                    `}}]})}function dropVehicleexpendi(n){const t=Swal.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});t.fire({title:"Are you sure?",text:"You won't be able to recover this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(t=>{t.isConfirmed?$.ajax({type:"DELETE",url:n,success:function(n){$.unblockUI();n.success?(swal.fire("Deleted!",n.message,"success"),loadtable()):swal.fire("Deleted!",n.message,"error")},beforeSend:function(){blockcallback()},error:function(){$.unblockUI();Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Check internet connectivity!"})},complete:function(){$.unblockUI()}}):t.dismiss===Swal.DismissReason.cancel&&swal.fire("Cancelled","Vehicle Expenditure NOT Deleted!","error")})}function manage(n){const t=Swal.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});t.fire({title:"Are you sure?",text:"You want to carry out this action?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Execute!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(t=>{t.isConfirmed?$.ajax({type:"POST",url:n,success:function(n){$.unblockUI();n.success?(swal.fire("Action Message!",n.message,"success"),loadtable()):swal.fire("Action Message!",n.message,"error")},beforeSend:function(){blockcallback()},error:function(){$.unblockUI();Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Check internet connectivity!"})},complete:function(){$.unblockUI()}}):t.dismiss===Swal.DismissReason.cancel&&swal.fire("Cancelled","Action aborted!","error")})}function blockcallback(){$.blockUI({message:'<div class="bs-spinner mt-4 mt-lg-0"><div class= "spinner-border text-success mr-2 mt-2" style="width: 10rem; height: 10rem;" role="status"><span class="sr-only">Loading...<\/span><\/div>',fadeIn:800,overlayCSS:{backgroundColor:"#1b2024",opacity:.8,zIndex:1200,cursor:"wait"},css:{border:0,color:"#fff",zIndex:1201,padding:0,backgroundColor:"transparent"},onBlock:function(){}})}var datatable,classbtn="",classfa="",ap="",statusx=0;statusx=$("#status").val();$(document).ready(function(){loadtable()});