function Remove(n){var i=$(n).closest("TR"),t=$("TD",i).eq(0).html();Swal.fire({title:"Do you want to remove "+t+"?",showDenyButton:!0,confirmButtonText:"Yes, Remove!",denyButtonText:`Cancel`}).then(n=>{if(n.isConfirmed){var r=$("#resultcalculatortb")[0];r.deleteRow(i[0].rowIndex);Swal.fire("Deleted!",t+" successfully removed","success")}else n.isDenied&&Swal.fire(t+" not deleted","","info")})}function sum(){var t=$("#noelective").val(),i=document.getElementById("assign").value,f=document.getElementById("proj").value,e=document.getElementById("test").value,r=document.getElementById("cwork").value,u=document.getElementById("exams").value,n=Number(i)+Number(f)+Number(e)+Number(r)+Number(u);if(document.getElementById("total").value=n,n<40?(document.getElementById("grade").value="E",document.getElementById("remark").value="Poor"):n<56?(document.getElementById("grade").value="D",document.getElementById("remark").value="Fair"):n<66?(document.getElementById("grade").value="C",document.getElementById("remark").value="Good"):n<75&&(document.getElementById("grade").value="B",document.getElementById("remark").value="Very Good"),n>74&&(document.getElementById("grade").value="A",document.getElementById("remark").value="Distintction"),t=="noelective"){if(i>10)return document.getElementById("assign").value="",document.getElementById("total").value="",Swal.fire({icon:"error",title:"Oops...",text:"Assignment should not be greater than 10, check and try again",footer:"Over assigned scores"})}else if(i>5)return document.getElementById("assign").value="",document.getElementById("total").value="",Swal.fire({icon:"error",title:"Oops...",text:"Assignment should not be greater than 5, check and try again",footer:"Over assigned scores"});if(t=="noelective"){if(r>10)return document.getElementById("cwork").value="",document.getElementById("total").value="",Swal.fire({icon:"error",title:"Oops...",text:"Class work should not be greater than 10, check and try again",footer:"Over assigned scores"})}else if(r>5)return document.getElementById("cwork").value="",document.getElementById("total").value="",Swal.fire({icon:"error",title:"Oops...",text:"Class work should not be greater than 5, check and try again",footer:"Over assigned scores"});if(e>10)return document.getElementById("total").value="",document.getElementById("test").value="",Swal.fire({icon:"error",title:"Oops...",text:"Test scores should not be greater than 10, check and try again",footer:"Over assigned scores"});if(f>10)return document.getElementById("total").value="",document.getElementById("proj").value="",Swal.fire({icon:"error",title:"Oops...",text:"Project scores should not be greater than 10, check and try again",footer:"Over assigned scores"});if(t=="noelective"){if(u>60)return document.getElementById("exams").value="",document.getElementById("total").value="",Swal.fire({icon:"error",title:"Oops...",text:"Examination should not be greater than 60, check and try again",footer:"Over assigned scores"})}else if(u>70)return document.getElementById("exams").value="",document.getElementById("total").value="",Swal.fire({icon:"error",title:"Oops...",text:"Examination should not be greater than 70, check and try again",footer:"Over assigned scores"});if(n>100)return document.getElementById("total").value="",document.getElementById("exams").value="",alert("Total scores can not be morethan 100, check and try again")}function blockcallback(){$.blockUI({message:'<div class="bs-spinner mt-4 mt-lg-0"><div class= "spinner-border text-success mr-2 mt-2" style="width: 10rem; height: 10rem;" role="status"><span class="sr-only">Loading...<\/span><\/div> ',fadeIn:800,overlayCSS:{backgroundColor:"#1b2024",opacity:.8,zIndex:1200,cursor:"wait"},css:{border:0,color:"#fff",zIndex:1201,padding:0,backgroundColor:"transparent"},onBlock:function(){}})}$("body").on("click","#btnAdd",function(){var s=$("#subject option:selected").text(),h=$("#subject option:selected").val(),r=$("#assign").val(),u=$("#proj").val(),f=$("#test").val(),e=$("#cwork").val(),o=$("#exams").val(),c=$("#total").val(),l=$("#grade").val(),a=$("#remark").val(),i;if(subject===""||r===""||u===""||f===""||e===""||o==="")return Swal.fire({icon:"error",title:"Oops...",text:"Provide all scores before adding!",footer:"Missing Scores"});var v=$("#resultcalculatortb > TBODY")[0],t=v.insertRow(-1),n=$(t.insertCell(-1));n.html(s);n=$(t.insertCell(-1));n.html(r);n=$(t.insertCell(-1));n.html(e);n=$(t.insertCell(-1));n.html(f);n=$(t.insertCell(-1));n.html(u);n=$(t.insertCell(-1));n.html(o);n=$(t.insertCell(-1));n.html(c);n=$(t.insertCell(-1));n.html(l);n=$(t.insertCell(-1));n.html(a);n=$(t.insertCell(-1));n.html(h);n=$(t.insertCell(-1));i=$("<button><i class='fa fa-trash'><\/i><\/button>");i.attr("type","button");i.attr("class","btn btn-sm btn-danger");i.attr("onclick","Remove(this);");n.append(i);$("#assign").val("");$("#proj").val("");$("#test").val("");$("#cwork").val("");$("#exams").val("");$("#total").val("");$("#grade").val("");$("#remark").val("")});$("body").on("click","#btnSave",function(){var t=[],n;if($("#resultcalculatortb TBODY TR").each(function(){var i=$(this),n={};n.subjectsCode=i.find("TD").eq(9).html();n.assignment=i.find("TD").eq(1).html();n.test=i.find("TD").eq(2).html();n.project=i.find("TD").eq(3).html();n.classWork=i.find("TD").eq(4).html();n.examination=i.find("TD").eq(5).html();n.total=i.find("TD").eq(6).html();n.grade=i.find("TD").eq(7).html();n.remark=i.find("TD").eq(8).html();n.termRegID=$("#termreg_Id").val();t.push(n)}),n={resultsExams:t},Object.keys(n.resultsExams).length<1)return Swal.fire({icon:"error",title:"Oops...",text:"No data added to be posted!",footer:"Missing Scores"});$.ajax({type:"POST",url:"/api/SendResult",data:n,dataType:"json",beforeSend:function(){blockcallback()},success:function(n){n.success?(swal.fire("Result Uploading Information!",n.message,"success"),$.unblockUI()):Swal.fire({icon:"error",title:"Oops...",text:n.message,footer:"Result Uploading Fail"})},error:function(){$.unblockUI();Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Check internet connectivity"})},complete:function(){$.unblockUI()}})});